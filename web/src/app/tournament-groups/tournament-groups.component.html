<h2>Match Groups for {{ tournamentName }}</h2>

<h3>Existing Groups</h3>
<ul>
  <li *ngFor="let group of matchGroups">
    {{ group.groupName }} (Order: {{ group.orderNumber }})
    <span *ngIf="group.parentMatchGroupId"> - Subgroup of {{ group.parentMatchGroupId }}</span>
  </li>
</ul>

<h3 *ngIf="authService.isAdmin()">Add New Group</h3>
<form *ngIf="authService.isAdmin()" (ngSubmit)="addGroup()">
  <div>
    <label for="groupName">Group Name:</label>
    <input type="text" id="groupName" [(ngModel)]="newGroup.groupName" name="groupName" required>
  </div>
  <div>
    <label for="orderNumber">Order Number:</label>
    <input type="number" id="orderNumber" [(ngModel)]="newGroup.orderNumber" name="orderNumber" required>
  </div>
  <div>
    <label for="parentGroup">Parent Group:</label>
    <select id="parentGroup" [(ngModel)]="newGroup.parentMatchGroupId" name="parentGroup">
      <option [ngValue]="undefined">None (Top-level group)</option>
      <option *ngFor="let group of matchGroups" [ngValue]="group.matchGroupId">
        {{ group.groupName }}
      </option>
    </select>
  </div>
  <button type="submit">Add Group</button>
</form>
